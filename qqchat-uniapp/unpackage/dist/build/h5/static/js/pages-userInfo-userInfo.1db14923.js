(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-userInfo-userInfo"],{"18bf":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("f813"),a=e("a458"),o={data:function(){return{userInfo:{},serverUrl:a.domain}},onShow:function(){var t=this;t.getUserInfo()},methods:{getUserInfo:function(){var t=this,n={url:"/user/info",method:"post",needToken:!0,data:{},callBack:function(n){console.log(n),uni.hideLoading(),t.setData({userInfo:n.data,"userInfo.password":null}),uni.setStorageSync("loginResult",n.data)}};i.request(n)},topage:function(){uni.navigateBack({delta:1})},upload:function(){var t=this;uni.chooseImage({success:function(n){var e=n.tempFilePaths,i=uni.uploadFile({url:a.domain+"/common/upload",filePath:e[0],name:"file",formData:{},success:function(n){var e=t.userInfo,i=JSON.parse(n.data);e.avatarImage=i.fileName,t.setData({userInfo:e})}});i.onProgressUpdate((function(t){console.log("上传进度"+t.progress),console.log("已经上传的数据长度"+t.totalBytesSent),console.log("预期需要上传的数据总长度"+t.totalBytesExpectedToSend)}))}})},onMobileInput:function(t){this.setData({"userInfo.email":t.detail.value})},onUsernameInput:function(t){this.setData({"userInfo.username":t.detail.value})},onPasswordInput:function(t){this.setData({"userInfo.password":t.detail.value})},onSexInput:function(t){this.setData({"userInfo.sex":t.detail.value})},onAgeInput:function(t){this.setData({"userInfo.age":t.detail.value})},onSubmiti:function(){var t={url:"/user",method:"PUT",needToken:!0,data:{id:this.userInfo.id,username:this.userInfo.username,password:this.userInfo.password,email:this.userInfo.email,avatarImage:this.userInfo.avatarImage,sex:this.userInfo.sex,age:this.userInfo.age},callBack:function(t){uni.hideLoading(),uni.showToast({title:"修改成功",icon:"none"});var n={url:"/user/info",method:"post",needToken:!0,data:{},callBack:function(t){t.data;console.log(t.data),uni.setStorageSync("loginResult",t)}};i.request(n)}};i.request(t)}}};n.default=o},"2af2":function(t,n,e){var i=e("dfcf");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("6f5dbffb",i,!0,{sourceMap:!1,shadowMode:!1})},"37dd":function(t,n,e){"use strict";var i=e("2af2"),a=e.n(i);a.a},"5be5":function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}));var a=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"title-content"},[i("v-uni-view",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.topage.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"topage",attrs:{src:e("c507")}})],1),i("v-uni-view",{staticClass:"title"},[i("v-uni-view",{staticClass:"line-fix"},[i("v-uni-text",[t._v("我的信息")])],1)],1)],1),i("v-uni-view",{staticClass:"input-box"},[i("v-uni-view",{staticClass:"section"},[i("v-uni-text",[t._v("头像")]),i("v-uni-image",{staticStyle:{width:"130rpx",height:"130rpx","padding-left":"55%"},attrs:{src:t.userInfo.avatarImage?t.serverUrl+t.userInfo.avatarImage:"../../static/images/icon/head04.png"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.upload.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"section"},[i("v-uni-text",[t._v("邮箱")]),i("v-uni-input",{attrs:{placeholder:"邮箱",type:"text",maxlength:"30",value:t.userInfo.email},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onMobileInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"section"},[i("v-uni-text",[t._v("昵称")]),i("v-uni-input",{attrs:{placeholder:"请输入昵称",type:"text",maxlength:"10",value:t.userInfo.username},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onUsernameInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"section"},[i("v-uni-text",[t._v("性别")]),i("v-uni-input",{attrs:{placeholder:"请输入性别",type:"text",maxlength:"1",value:t.userInfo.sex},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onSexInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"section"},[i("v-uni-text",[t._v("年龄")]),i("v-uni-input",{attrs:{placeholder:"请输入年龄",type:"number",maxlength:"2",value:t.userInfo.age},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onAgeInput.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"section"},[i("v-uni-text",[t._v("密码")]),i("v-uni-input",{attrs:{placeholder:"请输入密码",type:"password",maxlength:"10",value:t.userInfo.password},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onPasswordInput.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"btn-box"},[i("v-uni-view",{staticClass:"keep btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onSubmiti.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("保存")])],1)],1)],1)},o=[]},"8e57":function(t,n,e){"use strict";e.r(n);var i=e("18bf"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},c507:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAUlJREFUOE+VlL8uREEUxr+zLU/AEzBndrOdyBY68QJk/yRKKtFRUtGKgs5a0WolCryBSM7chJJXULnZ+WSKm6z947rTzjm/OX++bwQVjnNuvlarXZEMZnZUpMp/GY1GY3E4HPYBtAB0zeyuEsQ5tywi1wAWSfZCCI+jj5dWoqqrABIgjzF2syx7Ga/+T4j3foPkAMB7jLGdZdnHtPZnQpxzbRFJgAeSWyGEr1nzmwpR1V0AFwBuzaxXNvwJiPf+kOQJgHMz2ysDpPtfEFVdA/AE4HhUB2WgaZUckDwFcGZm+2WAiUqKBO/9DslLAAMz2y4DzdyOqm6mwQK4J9mpvJ3iZefcuojcAHgD0DGzz0o6KYLr9fpKjHEgIt9JsSGE10qKLYJVdSlJX0SSd5L5nit5pwhuNpsLeZ73RaSVTFjZxSOtzZHsj/8nP9h6kRL3tdItAAAAAElFTkSuQmCC"},dfcf:function(t,n,e){var i=e("24fb");n=i(!1),n.push([t.i,"/* pages/editAddress/editAddress.wxss */uni-page-body[data-v-72181927]{background:#fff}\r\n\r\n/* input列表 */.line-fix[data-v-72181927]{width:100%;position:fixed;top:0;margin-top:%?30?%;font-size:%?40?%}.tit-background[data-v-72181927]{width:100%;height:%?20?%;background:#f4f4f4}.title-content[data-v-72181927]{height:%?130?%\r\n  /* background-color: #00AAFF; */}.title[data-v-72181927]{font-family:STKaiti;font-size:30px;text-align:center\r\n  /* background-color: #000000; */}.topage[data-v-72181927]{margin-top:%?30?%;margin-left:%?10?%;width:%?60?%;height:%?60?%;z-index:2\r\n    /* background-color: #B4282D; */}.input-box[data-v-72181927]{margin-bottom:%?50?%;background:#fff;padding:0 %?20?%}.input-box .section[data-v-72181927]{display:flex;align-items:center;width:100%;font-size:%?28?%;padding:%?30?% 0;line-height:%?48?%;height:100%;box-sizing:border-box;border-bottom:%?2?% solid #e5e5e5}.input-box .section uni-text[data-v-72181927]{width:20%;color:#333}.input-box .section uni-input[data-v-72181927]{width:70%;padding:0 %?20?%;color:#333}.input-box .section uni-picker[data-v-72181927]{width:70%;padding:0 %?30?%}.input-box .section .pca[data-v-72181927]{width:70%;padding:0 %?20?%}.input-box .section .arrow[data-v-72181927]{width:%?28?%;height:%?28?%}.input-box .section .arrow uni-image[data-v-72181927]{width:100%;height:100%;vertical-align:top}\r\n\r\n/* end input列表 */\r\n\r\n/* 功能按钮 */.btn-box[data-v-72181927]{padding:5px 10px;width:100%;text-align:center;margin:auto}.btn-box uni-text[data-v-72181927]{font-size:%?30?%}.btn-box .clear.btn[data-v-72181927], .keep.btn[data-v-72181927]{width:60%;height:%?80?%;line-height:%?80?%;margin:auto;text-align:center;border:%?1?% solid #eb2444;border-radius:%?50?%;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.05),0 1px 0 hsla(0,0%,100%,.3)}.btn-box .keep[data-v-72181927]{color:#fff;background-color:#eb2444}.btn-box .clear.btn[data-v-72181927]{margin-top:%?40?%;color:#eb2444;background-color:rgba(248,240,241,.71)}\r\n\r\n/* end 功能按钮 */.infoText[data-v-72181927]{margin-top:%?20?%;text-align:center;width:100%;justify-content:center}uni-picker-view[data-v-72181927]{background-color:#fff;padding:0;width:100%;height:%?380?%;bottom:0;position:fixed}uni-picker-view-column uni-view[data-v-72181927]{vertical-align:middle;font-size:%?28?%;line-height:%?28?%;height:100%;display:flex;align-items:center;justify-content:center}.animation-element-wrapper[data-v-72181927]{display:flex;position:fixed;left:0;top:0;height:100%;width:100%;background-color:rgba(0,0,0,.6);z-index:999}.animation-element[data-v-72181927]{display:flex;position:fixed;width:100%;height:%?470?%;bottom:0;background-color:#fff}.animation-button[data-v-72181927]{top:%?20?%;width:%?290?%;height:%?100?%;align-items:center}uni-picker-view uni-text[data-v-72181927]{color:#999;display:inline-flex;position:fixed;margin-top:%?20?%;height:%?50?%;text-align:center;line-height:%?50?%;font-size:%?34?%;font-family:Arial,Helvetica,sans-serif}.left-bt[data-v-72181927]{left:%?30?%}.right-bt[data-v-72181927]{right:%?20?%;top:%?20?%;position:absolute;width:%?80?%!important}.line[data-v-72181927]{display:block;position:fixed;height:%?2?%;width:100%;margin-top:%?89?%;background-color:#eee}body.?%PAGE?%[data-v-72181927]{background:#fff}",""]),t.exports=n},f8ff:function(t,n,e){"use strict";e.r(n);var i=e("5be5"),a=e("8e57");for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("37dd");var s,r=e("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"72181927",null,!1,i["a"],s);n["default"]=u.exports}}]);